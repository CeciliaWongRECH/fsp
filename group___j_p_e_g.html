<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RA Flexible Software Package Documentation: JPEG Codec (r_jpeg)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RA Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v0.8.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___j_p_e_g.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">JPEG Codec (r_jpeg)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad9585c93238fc4266ecbc193fc63ce17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#gad9585c93238fc4266ecbc193fc63ce17">R_JPEG_Decode_Open</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___j_p_e_g___a_p_i.html#structjpeg__decode__cfg__t">jpeg_decode_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="memdesc:gad9585c93238fc4266ecbc193fc63ce17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the JPEG Codec module.  <a href="#gad9585c93238fc4266ecbc193fc63ce17">More...</a><br /></td></tr>
<tr class="separator:gad9585c93238fc4266ecbc193fc63ce17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7aa0ad733bf43574533e65005a6eec13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#ga7aa0ad733bf43574533e65005a6eec13">R_JPEG_Decode_OutputBufferSet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *p_api_ctrl, void *p_output_buffer, uint32_t output_buffer_size)</td></tr>
<tr class="memdesc:ga7aa0ad733bf43574533e65005a6eec13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign output buffer to the JPEG Codec for storing output data.  <a href="#ga7aa0ad733bf43574533e65005a6eec13">More...</a><br /></td></tr>
<tr class="separator:ga7aa0ad733bf43574533e65005a6eec13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69564fb2f7e0e723555bebbacc2558a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#ga69564fb2f7e0e723555bebbacc2558a9">R_JPEG_Decode_LinesDecodedGet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *p_api_ctrl, uint32_t *p_lines)</td></tr>
<tr class="memdesc:ga69564fb2f7e0e723555bebbacc2558a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of lines decoded into the output buffer.  <a href="#ga69564fb2f7e0e723555bebbacc2558a9">More...</a><br /></td></tr>
<tr class="separator:ga69564fb2f7e0e723555bebbacc2558a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5400414abba8f376c78f90fbf4e936ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#ga5400414abba8f376c78f90fbf4e936ef">R_JPEG_Decode_HorizontalStrideSet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *p_api_ctrl, uint32_t horizontal_stride)</td></tr>
<tr class="memdesc:ga5400414abba8f376c78f90fbf4e936ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure horizontal stride setting.  <a href="#ga5400414abba8f376c78f90fbf4e936ef">More...</a><br /></td></tr>
<tr class="separator:ga5400414abba8f376c78f90fbf4e936ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf22fc4c7ca28d08b1e414d38f464d351"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#gaf22fc4c7ca28d08b1e414d38f464d351">R_JPEG_Decode_InputBufferSet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *const p_api_ctrl, void *p_data_buffer, uint32_t data_buffer_size)</td></tr>
<tr class="memdesc:gaf22fc4c7ca28d08b1e414d38f464d351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign input data buffer to JPEG codec for processing.  <a href="#gaf22fc4c7ca28d08b1e414d38f464d351">More...</a><br /></td></tr>
<tr class="separator:gaf22fc4c7ca28d08b1e414d38f464d351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae6f9bb2e4cca0189b17d123c7feb3b1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#gae6f9bb2e4cca0189b17d123c7feb3b1a">R_JPEG_Decode_Close</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *p_api_ctrl)</td></tr>
<tr class="memdesc:gae6f9bb2e4cca0189b17d123c7feb3b1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel an outstanding JPEG codec operation and close the device.  <a href="#gae6f9bb2e4cca0189b17d123c7feb3b1a">More...</a><br /></td></tr>
<tr class="separator:gae6f9bb2e4cca0189b17d123c7feb3b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50a6813bbe64997712265c3ff24750c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#ga50a6813bbe64997712265c3ff24750c1">R_JPEG_Decode_ImageSizeGet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *p_api_ctrl, uint16_t *p_horizontal_size, uint16_t *p_vertical_size)</td></tr>
<tr class="memdesc:ga50a6813bbe64997712265c3ff24750c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the size of the image. This operation is valid during JPEG decoding operation.  <a href="#ga50a6813bbe64997712265c3ff24750c1">More...</a><br /></td></tr>
<tr class="separator:ga50a6813bbe64997712265c3ff24750c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f89cae883c7f40bf90bc739a467eb7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#ga6f89cae883c7f40bf90bc739a467eb7f">R_JPEG_Decode_StatusGet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *p_api_ctrl, <a class="el" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a> *p_status)</td></tr>
<tr class="memdesc:ga6f89cae883c7f40bf90bc739a467eb7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the status of the JPEG codec. This function can also be used to poll the device.  <a href="#ga6f89cae883c7f40bf90bc739a467eb7f">More...</a><br /></td></tr>
<tr class="separator:ga6f89cae883c7f40bf90bc739a467eb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga463b234382f4cbefd8fcb592ce960fe2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#ga463b234382f4cbefd8fcb592ce960fe2">R_JPEG_Decode_ImageSubsampleSet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___j_p_e_g___a_p_i.html#gac10fc46a5178859abd5d686389c5242c">jpeg_decode_subsample_t</a> horizontal_subsample, <a class="el" href="group___j_p_e_g___a_p_i.html#gac10fc46a5178859abd5d686389c5242c">jpeg_decode_subsample_t</a> vertical_subsample)</td></tr>
<tr class="memdesc:ga463b234382f4cbefd8fcb592ce960fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure horizontal and vertical subsample.  <a href="#ga463b234382f4cbefd8fcb592ce960fe2">More...</a><br /></td></tr>
<tr class="separator:ga463b234382f4cbefd8fcb592ce960fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac913ff70ecd2ef2bbb1bbd7f65a8fe99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#gac913ff70ecd2ef2bbb1bbd7f65a8fe99">R_JPEG_Decode_PixelFormatGet</a> (<a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *p_api_ctrl, <a class="el" href="group___j_p_e_g___a_p_i.html#gaed3e86d8e72b7e3e9240140efeff89f9">jpeg_decode_color_space_t</a> *p_color_space)</td></tr>
<tr class="memdesc:gac913ff70ecd2ef2bbb1bbd7f65a8fe99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the input pixel format.  <a href="#gac913ff70ecd2ef2bbb1bbd7f65a8fe99">More...</a><br /></td></tr>
<tr class="separator:gac913ff70ecd2ef2bbb1bbd7f65a8fe99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad230754711902f4ededd4f3c2fe46730"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#gad230754711902f4ededd4f3c2fe46730">R_JPEG_Decode_VersionGet</a> (<a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#unionfsp__version__t">fsp_version_t</a> *p_version)</td></tr>
<tr class="memdesc:gad230754711902f4ededd4f3c2fe46730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the version of the JPEG Codec driver.  <a href="#gad230754711902f4ededd4f3c2fe46730">More...</a><br /></td></tr>
<tr class="separator:gad230754711902f4ededd4f3c2fe46730"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the JPEG peripheral on RA MCUs. This module implements the <a class="el" href="group___j_p_e_g___a_p_i.html">JPEG Codec Interface</a>. </p>
<h1><a class="anchor" id="r-jpeg-overview"></a>
Overview</h1>
<p>The JPEG Codec is a hardware block providing JPEG image encode and decode functionality in parallel with other functions. Images can optionally be partially processed facilitating streaming applications.</p>
<h2><a class="anchor" id="r-jpeg-features"></a>
Features</h2>
<p>The JPEG Codec provides a number of options useful in a variety of applications:</p>
<ul>
<li>Basic encoding and decoding<a class="anchor" id="um_jpeg_decode_baseline_jpeg_image_decompression"></a></li>
<li>Streaming input and/or output<a class="anchor" id="um_jpeg_decode_output_streaming"></a><a class="anchor" id="um_jpeg_decode_input_streaming"></a></li>
<li>Decoding JPEGs of unknown size<a class="anchor" id="um_jpeg_decode_get_jpeg_image_information"></a></li>
<li>Shrink (sub-sample) an image during the decoding process<a class="anchor" id="um_jpeg_decode_set_output_sub_sampling"></a></li>
<li>Rearrange input and output byte order (byte, word and/or longword swap)<a class="anchor" id="um_jpeg_decode_set_input_data_swap"></a><a class="anchor" id="um_jpeg_decode_set_output_data_swap"></a></li>
<li>JPEG error detection<a class="anchor" id="um_jpeg_decode_error_detection"></a></li>
</ul>
<p>The specifications for the codec are as follows:</p>
<p><a class="anchor" id="um_jpeg_decode_output_format_argb8888"></a><a class="anchor" id="um_jpeg_decode_output_format_rgb565"></a><a class="anchor" id="um_jpeg_decode_get_jpeg_pixel_format_ycbcr"></a><a class="anchor" id="um_jpeg_decode_input_format_ycbcr444"></a><a class="anchor" id="um_jpeg_decode_input_format_ycbcr420"></a><a class="anchor" id="um_jpeg_decode_input_format_ycbcr411"></a><a class="anchor" id="um_jpeg_decode_input_format_ycbcr422"></a><a class="anchor" id="um_jpeg_decode_event_notification"></a><a class="anchor" id="um_jpeg_decode_get_status"></a><a class="anchor" id="um_jpeg_decode_set_memory_stride"></a><a class="anchor" id="um_jpeg_decode_get_pixel_format_of_jpeg_image"></a><a class="anchor" id="um_jpeg_decode_oversize_image_width_detection"></a><a class="anchor" id="um_jpeg_decode_set_alpha_channel_in_output_rgb_data"></a><a class="anchor" id="um_jpeg_decode_get_number_of_decoded_lines"></a> </p><table class="doxtable">
<tr>
<th>Feature </th><th>Options  </th></tr>
<tr>
<td>Decompression input formats </td><td>Baseline YCbCr 4:4:4, 4:2:2, 4:2:0 and 4:1:1 </td></tr>
<tr>
<td>Decompression output formats </td><td>ARGB8888, RGB565 </td></tr>
<tr>
<td>Byte reordering </td><td>Byte, halfword and/or word swapping on input and output </td></tr>
<tr>
<td>Interrupt sources </td><td>Image size acquired, input/output data pause, decode complete, error </td></tr>
</table>
<h1><a class="anchor" id="r-jpeg-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for r_jpeg</h2>
The following build time configurations are defined in fsp_cfg/r_jpeg_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Description </th></tr>
<tr>
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>If selected code for parameter checking is included in the build. </td></tr>
<tr>
<td>Decode Support</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>If selected code for decoding JPEG images is included in the build. </td></tr>
<tr>
<td>Encode Support</td><td>Disabled</td><td>If selected code for encoding JPEG images is included in the build. </td></tr>
</table>
</p>
<p><h2>Configurations for JPEG Decode Driver on r_jpeg</h2>
This module can be added to the Threads tab from New -&gt; Driver -&gt; Graphics -&gt; JPEG Decode Driver on r_jpeg:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Description </th></tr>
<tr>
<td>Name</td><td>Name must be a valid C symbol</td><td>Module name. </td></tr>
<tr>
<td>Decode input data byte order</td><td>MCU Specific Options</td><td>Select the byte order of the input data for decoding. </td></tr>
<tr>
<td>Decode output data byte order</td><td>MCU Specific Options</td><td>Select the byte order of the output data for decoding. </td></tr>
<tr>
<td>Output Data Color Format</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
ARGB8888 (32-bit)</li>
<li>
RGB565 (16-bit)</li>
</ul>
</td><td>Select the pixel format. </td></tr>
<tr>
<td>Alpha value to be applied to decoded pixel data(only valid for ARGB8888 format)</td><td>Value must be an 8-bit integer (0-255)</td><td>Specify the alpha value to apply to each pixel when ARGB8888 format is chosen. </td></tr>
<tr>
<td>Name of decode user callback function</td><td>Name must be a valid C symbol</td><td>A user callback function can be provided. If this callback function is provided, it will be called from the interrupt service routine (ISR) each time the IRQ triggers. </td></tr>
<tr>
<td>Encode/Decode Process Interrupt Priority</td><td>MCU Specific Options</td><td>Select the decompression interrupt priority. </td></tr>
<tr>
<td>Data Transfer Interrupt Priority</td><td>MCU Specific Options</td><td>Select the data transfer interrupt priority. </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-jpeg-clock-configuration"></a>
Clock Configuration</h2>
<p>The peripheral clock for this module is PCLKA. No clocks are provided by this module.</p>
<h2><a class="anchor" id="r-jpeg-pin-configuration"></a>
Pin Configuration</h2>
<p>This module does not have any input or output pin connections.</p>
<h2><a class="anchor" id="r-jpeg-interrupts"></a>
Interrupts</h2>
<p>The JPEG unit provides two interrupts: Encode/Decode Process (JEDI) and Data Transfer (JDTI). Each interrupt is related to multiple sources and is managed internally in the JPEG driver. Separate callback can be registered for encode and decode operations for both interrupts. The events triggering the interrupt are passed back to user code through <a class="el" href="group___j_p_e_g.html#ga6f89cae883c7f40bf90bc739a467eb7f">R_JPEG_Decode_StatusGet</a>. </p><hr/>
<h1><a class="anchor" id="r-jpeg-usage_notes"></a>
Usage Notes</h1>
<h2><a class="anchor" id="r-jpeg-usage_overview"></a>
Overview</h2>
<p>The JPEG Codec contains both decode and encode hardware. While these two functions are largely independent in configuration only one can be used at a time.</p>
<p>To switch from decode to encode mode (or vice versa) close the mode in use (via <a class="el" href="group___j_p_e_g.html#gae6f9bb2e4cca0189b17d123c7feb3b1a">R_JPEG_Decode_Close</a> or R_JPEG_Encode_Close) before opening the desired mode.</p>
<h2><a class="anchor" id="r-jpeg-status"></a>
Status</h2>
<p>The status value (<a class="el" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a>) provided by the callback and by <a class="el" href="group___j_p_e_g.html#ga6f89cae883c7f40bf90bc739a467eb7f">R_JPEG_Decode_StatusGet</a> is a bitfield that encompasses all potential status indication conditions. One or more statuses can be set simultaneously.</p>
<h2><a class="anchor" id="r-jpeg-decode"></a>
Decoding Process</h2>
<p>JPEG decoding can be performed in several ways depending on the application:</p>
<ul>
<li>To perform the simplest decode operation where all dimensions are known set the input buffer, stride and output buffer then wait for a callback with status <a class="el" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631af9454ed2179f829908daea7122a9697d">JPEG_DECODE_STATUS_DONE</a>.</li>
<li>To pause after decoding the JPEG header (in order to acquire image dimensions and secure an output buffer) call <a class="el" href="group___j_p_e_g.html#gaf22fc4c7ca28d08b1e414d38f464d351">R_JPEG_Decode_InputBufferSet</a> before setting the output buffer and wait for a callback with status <a class="el" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631a39e5eb80a8a5afea0d5c5b019153643a">JPEG_DECODE_STATUS_IMAGE_SIZE_READY</a>.</li>
<li>To decode a partial JPEG image then pause until the next chunk is available specify a size smaller than the full JPEG data when calling <a class="el" href="group___j_p_e_g.html#gaf22fc4c7ca28d08b1e414d38f464d351">R_JPEG_Decode_InputBufferSet</a>.</li>
<li>To pause decoding once an output buffer is filled specify a size smaller than the full decoded image when calling <a class="el" href="group___j_p_e_g.html#ga7aa0ad733bf43574533e65005a6eec13">R_JPEG_Decode_OutputBufferSet</a>.</li>
</ul>
<p>The flowchart below illustrates the steps necessary to handle any decode operation. The statuses given in <span style="color:blue">blue</span> are part of <a class="el" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a> with the JPEG_DECODE_STATUS prefix omitted.</p>
<div class="image">
<object type="image/svg+xml" data="decode_flowchart.svg">decode_flowchart.svg</object>
<div class="caption">
FJPEG Decode Operational Flow</div></div>
 <h2><a class="anchor" id="r-jpeg-encode"></a>
Encoding Process</h2>
<p>Encode functionality is currently not supported.</p>
<h2><a class="anchor" id="r-jpeg-limitations"></a>
Limitations</h2>
<p>Developers should be aware of the following limitations when using the JPEG API:</p>
<ul>
<li>Encode capability is currently not supported.</li>
<li>Pixel data for encoding must be provided in Y'Cb'Cr' 4:2:2 format.</li>
</ul>
<h1><a class="anchor" id="r-jpeg-examples"></a>
Examples</h1>
<h2><a class="anchor" id="r-jpeg-examples-decode"></a>
Basic Decode Example</h2>
<p>This is a basic example showing the minimum code required to initialize the JPEG Codec and decode an image.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">void</span> jpeg_decode_basic (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Open JPEG Codec */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#gad9585c93238fc4266ecbc193fc63ce17">R_JPEG_Decode_Open</a>(&amp;g_jpeg_ctrl, &amp;g_jpeg_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Set input buffer */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#gaf22fc4c7ca28d08b1e414d38f464d351">R_JPEG_Decode_InputBufferSet</a>(&amp;g_jpeg_ctrl, (<span class="keywordtype">void</span> *) JPEG_PTR, JPEG_SIZE_BYTES);</div><div class="line"></div><div class="line">    <span class="comment">/* Set horizontal stride of output buffer */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#ga5400414abba8f376c78f90fbf4e936ef">R_JPEG_Decode_HorizontalStrideSet</a>(&amp;g_jpeg_ctrl, JPEG_HSIZE);</div><div class="line"></div><div class="line">    <span class="comment">/* Set output buffer */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#ga7aa0ad733bf43574533e65005a6eec13">R_JPEG_Decode_OutputBufferSet</a>(&amp;g_jpeg_ctrl, decode_buffer, <span class="keyword">sizeof</span>(decode_buffer));</div><div class="line"></div><div class="line">    <span class="comment">/* Wait for decode completion */</span></div><div class="line">    <a class="code" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a> status = (<a class="code" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a>) 0;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (!(status &amp; (<a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631af9454ed2179f829908daea7122a9697d">JPEG_DECODE_STATUS_DONE</a> | <a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631a1be336dadbb2aa376702c12bb1ed44e1">JPEG_DECODE_STATUS_ERROR</a>)))</div><div class="line">    {</div><div class="line">        <a class="code" href="group___j_p_e_g.html#ga6f89cae883c7f40bf90bc739a467eb7f">R_JPEG_Decode_StatusGet</a>(&amp;g_jpeg_ctrl, &amp;status);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2><a class="anchor" id="r-jpeg-examples-decode-streaming"></a>
Streaming Input/Output Example</h2>
<p>In this example JPEG data is read in 512-byte chunks. Decoding is paused when a chunk is read and once the JPEG header is decoded. The image is decoded 16 lines at a time.</p>
<dl class="section note"><dt>Note</dt><dd>Streaming is always bypassed when a given buffer's size encompasses the entire input or output image, respectively. Though this example decodes via smaller chunks the input and output data are still contiguous for ease of demonstration. Refer to the comments for further insight as to how to implement streaming with different JPEG/output buffer size combinations.</dd></dl>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#define JPEG_INPUT_SIZE_BYTES    512U</span></div><div class="line"></div><div class="line"><span class="comment">/* JPEG Codec status */</span></div><div class="line"><span class="keyword">static</span> <a class="code" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a> g_jpeg_status = <a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631a107e8ca1ca2adecb7db738a24dc3287a">JPEG_DECODE_STATUS_NOT_OPEN</a>;</div><div class="line"></div><div class="line"><span class="comment">/* JPEG event flag */</span></div><div class="line"><span class="keyword">static</span> uint8_t jpeg_event = 0;</div><div class="line"></div><div class="line"><span class="comment">/* Callback function for JPEG decode interrupts */</span></div><div class="line"><span class="keywordtype">void</span> jpeg_callback (<a class="code" href="group___j_p_e_g___a_p_i.html#structjpeg__decode__callback__args__t">jpeg_decode_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <span class="comment">/* Get JPEG Codec status */</span></div><div class="line">    g_jpeg_status = p_args-&gt;<a class="code" href="group___j_p_e_g___a_p_i.html#ac591378df16d71fc21178602cd6e37e2">status</a>;</div><div class="line"></div><div class="line">    <span class="comment">/* Set JPEG flag */</span></div><div class="line">    jpeg_event = 1;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">/* Simple wait that returns 1 if no event happened within the timeout period */</span></div><div class="line"><span class="keyword">static</span> uint8_t jpeg_event_wait (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t timeout_timer = JPEG_EVENT_TIMEOUT;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (!jpeg_event &amp;&amp; timeout_timer--)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Spin here until an event callback or timeout */</span></div><div class="line">    }</div><div class="line"></div><div class="line">    jpeg_event = 0;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> timeout_timer ? 0 : 1;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">/* Decode a JPEG image to a buffer using streaming input and output */</span></div><div class="line"><span class="keywordtype">void</span> jpeg_decode_streaming (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint8_t            * p_jpeg = (uint8_t *) JPEG_PTR;</div><div class="line">    <a class="code" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a> status = (<a class="code" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a>) 0;</div><div class="line"></div><div class="line">    <span class="comment">/* Number of input bytes to read at a time */</span></div><div class="line">    uint32_t input_bytes = JPEG_INPUT_SIZE_BYTES;</div><div class="line"></div><div class="line">    <span class="comment">/* Open JPEG unit and start decode */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#gad9585c93238fc4266ecbc193fc63ce17">R_JPEG_Decode_Open</a>(&amp;g_jpeg_ctrl, &amp;g_jpeg_cfg);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (!(status &amp; <a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631a1be336dadbb2aa376702c12bb1ed44e1">JPEG_DECODE_STATUS_ERROR</a>))</div><div class="line">    {</div><div class="line">        <span class="comment">/* Set the input buffer to read `input_bytes` bytes at a time */</span></div><div class="line">        <a class="code" href="group___j_p_e_g.html#gaf22fc4c7ca28d08b1e414d38f464d351">R_JPEG_Decode_InputBufferSet</a>(&amp;g_jpeg_ctrl, p_jpeg, input_bytes);</div><div class="line"></div><div class="line">        <span class="comment">/* This delay is required for streaming input mode to function correctly.</span></div><div class="line"><span class="comment">         * (Without this delay the JPEG Codec will not correctly locate markers.) */</span></div><div class="line">        <a class="code" href="group___b_s_p___m_c_u.html#gaf3219448adfd1531cf69f68697ab184b">R_BSP_SoftwareDelay</a>(10, <a class="code" href="group___b_s_p___m_c_u.html#ggafd98e2a6f080d6a52a3ef72e3d731b2baa0312618f2508347a9a815b5887c12ae">BSP_DELAY_UNITS_MICROSECONDS</a>);</div><div class="line"></div><div class="line">        <span class="comment">/* Wait for a callback */</span></div><div class="line">        jpeg_event_wait();</div><div class="line"></div><div class="line">        <span class="comment">/* Get the status from the callback */</span></div><div class="line">        status = g_jpeg_status;</div><div class="line"></div><div class="line">        <span class="comment">/* Break if the header has finished decoding */</span></div><div class="line">        <span class="keywordflow">if</span> (status &amp; <a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631a39e5eb80a8a5afea0d5c5b019153643a">JPEG_DECODE_STATUS_IMAGE_SIZE_READY</a>)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">/* Move pointer to next block of input data (if needed) */</span></div><div class="line">        p_jpeg = (uint8_t *) ((uint32_t) p_jpeg + input_bytes);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Get image size */</span></div><div class="line">    uint16_t horizontal;</div><div class="line">    uint16_t vertical;</div><div class="line">    <a class="code" href="group___j_p_e_g.html#ga50a6813bbe64997712265c3ff24750c1">R_JPEG_Decode_ImageSizeGet</a>(&amp;g_jpeg_ctrl, &amp;horizontal, &amp;vertical);</div><div class="line"></div><div class="line">    <span class="comment">/* Prepare output data buffer here if needed (already allocated in this example) */</span></div><div class="line">    uint8_t * p_output = decode_buffer;</div><div class="line"></div><div class="line">    <span class="comment">/* Set horizontal stride */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#ga5400414abba8f376c78f90fbf4e936ef">R_JPEG_Decode_HorizontalStrideSet</a>(&amp;g_jpeg_ctrl, horizontal);</div><div class="line"></div><div class="line">    <span class="comment">/* Calculate the number of bytes that will fit in the buffer (16 lines in this example) */</span></div><div class="line">    uint32_t output_size = horizontal * 16U * 4U;</div><div class="line"></div><div class="line">    <span class="comment">/* Start decoding by setting the output buffer */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#ga7aa0ad733bf43574533e65005a6eec13">R_JPEG_Decode_OutputBufferSet</a>(&amp;g_jpeg_ctrl, p_output, output_size);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (!(status &amp; JPEG_DECODE_STATUS_ERROR))</div><div class="line">    {</div><div class="line">        <span class="comment">/* Wait for a callback */</span></div><div class="line">        jpeg_event_wait();</div><div class="line"></div><div class="line">        <span class="comment">/* Get the status from the callback */</span></div><div class="line">        status = g_jpeg_status;</div><div class="line"></div><div class="line">        <span class="comment">/* Break if decoding is complete */</span></div><div class="line">        <span class="keywordflow">if</span> (status &amp; <a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631af9454ed2179f829908daea7122a9697d">JPEG_DECODE_STATUS_DONE</a>)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (status &amp; <a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631abf718386984833b01bcd4772afc5140a">JPEG_DECODE_STATUS_INPUT_PAUSE</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Get next block of input data */</span></div><div class="line">            p_jpeg = (uint8_t *) ((uint32_t) p_jpeg + input_bytes);</div><div class="line"></div><div class="line">            <span class="comment">/* Set the new input buffer pointer */</span></div><div class="line">            <a class="code" href="group___j_p_e_g.html#gaf22fc4c7ca28d08b1e414d38f464d351">R_JPEG_Decode_InputBufferSet</a>(&amp;g_jpeg_ctrl, p_jpeg, input_bytes);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (status &amp; <a class="code" href="group___j_p_e_g___a_p_i.html#ggaabb22b7e67bac097bc3fbdd1586f0631a100787c91d62e70fe730df10b57f7592">JPEG_DECODE_STATUS_OUTPUT_PAUSE</a>)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Draw the JPEG work buffer to the framebuffer here (if needed) */</span></div><div class="line"></div><div class="line">            <span class="comment">/* Move pointer to next block of output data (if needed) */</span></div><div class="line">            p_output += output_size;</div><div class="line"></div><div class="line">            <span class="comment">/* Set the output buffer to the next 16-line block */</span></div><div class="line">            <a class="code" href="group___j_p_e_g.html#ga7aa0ad733bf43574533e65005a6eec13">R_JPEG_Decode_OutputBufferSet</a>(&amp;g_jpeg_ctrl, p_output, output_size);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* Close driver to allow encode operations if needed */</span></div><div class="line">    <a class="code" href="group___j_p_e_g.html#gae6f9bb2e4cca0189b17d123c7feb3b1a">R_JPEG_Decode_Close</a>(&amp;g_jpeg_ctrl);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structjpeg__decode__instance__ctrl__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___j_p_e_g.html#structjpeg__decode__instance__ctrl__t">jpeg_decode_instance_ctrl_t</a></td></tr>
<tr class="separator:structjpeg__decode__instance__ctrl__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structjpeg__decode__instance__ctrl__t" id="structjpeg__decode__instance__ctrl__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structjpeg__decode__instance__ctrl__t">&#9670;&nbsp;</a></span>jpeg_decode_instance_ctrl_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct jpeg_decode_instance_ctrl_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>JPEG Codec module control block. DO NOT INITIALIZE. Initialization occurs when jpep_api_t::open is called. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a1fa76ec7ea6c9b7c96039bb2015e3399"></a><a class="el" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a></td>
<td class="fieldname">
status</td>
<td class="fielddoc">
JPEG Codec module status. </td></tr>
<tr><td class="fieldtype">
<a id="a1990ceda3b66af92652940ca1e322799"></a><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a></td>
<td class="fieldname">
error_code</td>
<td class="fielddoc">
JPEG Codec error code (if any). </td></tr>
<tr><td class="fieldtype">
<a id="a17970580c29e30cc00385517f2c2bd25"></a><a class="el" href="group___j_p_e_g___a_p_i.html#structjpeg__decode__cfg__t">jpeg_decode_cfg_t</a> const  *</td>
<td class="fieldname">
p_cfg</td>
<td class="fielddoc">
JPEG Decode configuration struct. </td></tr>
<tr><td class="fieldtype">
<a id="aadebad74ab55991cca4918f9cfe0ea80"></a><a class="el" href="group___j_p_e_g___a_p_i.html#gaf255735f7f96e62d09a5af50736fe97c">jpeg_decode_pixel_format_t</a></td>
<td class="fieldname">
pixel_format</td>
<td class="fielddoc">
Pixel format. </td></tr>
<tr><td class="fieldtype">
<a id="adf85f560f08ddc93ca05b2dc67917ad8"></a>uint32_t</td>
<td class="fieldname">
horizontal_stride</td>
<td class="fielddoc">
Horizontal Stride settings. </td></tr>
<tr><td class="fieldtype">
<a id="a437400ccf79d9f3d51a0f35d21e6d3a9"></a>uint32_t</td>
<td class="fieldname">
outbuffer_size</td>
<td class="fielddoc">
Output buffer size. </td></tr>
<tr><td class="fieldtype">
<a id="a669d47ac57907a7cdd7c59458ccaf796"></a>uint16_t</td>
<td class="fieldname">
total_lines_decoded</td>
<td class="fielddoc">
Track the number of lines decoded so far. </td></tr>
<tr><td class="fieldtype">
<a id="a14d01105baf60b123b2bb9867f95c0bd"></a><a class="el" href="group___j_p_e_g___a_p_i.html#gac10fc46a5178859abd5d686389c5242c">jpeg_decode_subsample_t</a></td>
<td class="fieldname">
horizontal_subsample</td>
<td class="fielddoc">
Horizontal sub-sample setting. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad9585c93238fc4266ecbc193fc63ce17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9585c93238fc4266ecbc193fc63ce17">&#9670;&nbsp;</a></span>R_JPEG_Decode_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#structjpeg__decode__cfg__t">jpeg_decode_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the JPEG Codec module. </p>
<dl class="section note"><dt>Note</dt><dd>This function configures the JPEG Codec for decoding operation and sets up the registers for data format and pixel format based on user-supplied configuration parameters. Interrupts are enabled to support callbacks.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>JPEG Codec module is properly configured and is ready to take input data. </td></tr>
    <tr><td class="paramname">FSP_ERR_IN_USE</td><td>JPEG Codec is already in use. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block or the configuration structure is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_IRQ_BSP_DISABLED</td><td>JEDI interrupt does not have an IRQ number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html">Common Error Codes</a> or functions called by this function for other possible return codes. </dd></dl>

</div>
</div>
<a id="ga7aa0ad733bf43574533e65005a6eec13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7aa0ad733bf43574533e65005a6eec13">&#9670;&nbsp;</a></span>R_JPEG_Decode_OutputBufferSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_OutputBufferSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_output_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>output_buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign output buffer to the JPEG Codec for storing output data. </p>
<dl class="section note"><dt>Note</dt><dd>The number of image lines to be decoded depends on the size of the buffer and the horizontal stride settings. Once the output buffer size is known, the horizontal stride value is known, and the input pixel format is known (the input pixel format is obtained by the JPEG decoder from the JPEG headers), the driver automatically computes the number of lines that can be decoded into the output buffer. After these lines are decoded, the JPEG engine pauses and a callback function is triggered, so the application is able to provide the next buffer for the JPEG module to resume the operation.</dd></dl>
<p>The JPEG decoding operation automatically starts after both the input buffer and the output buffer are set, and the output buffer is big enough to hold at least eight lines of decoded image data.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The output buffer is properly assigned to JPEG codec device. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block or the output_buffer is NULL, or the output_buffer_size is 0. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ALIGNMENT</td><td>Buffer starting address is not 8-byte aligned. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_JPEG_UNSUPPORTED_IMAGE_SIZE</td><td>The number of horizontal pixels exceeds horizontal memory stride. </td></tr>
    <tr><td class="paramname">FSP_ERR_JPEG_BUFFERSIZE_NOT_ENOUGH</td><td>Invalid buffer size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga69564fb2f7e0e723555bebbacc2558a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69564fb2f7e0e723555bebbacc2558a9">&#9670;&nbsp;</a></span>R_JPEG_Decode_LinesDecodedGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_LinesDecodedGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_lines</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of lines decoded into the output buffer. </p>
<dl class="section note"><dt>Note</dt><dd>Use this function to retrieve number of image lines written to the output buffer after JPEG decoded a partial image. Combined with the horizontal stride settings and the output pixel format, the application can compute the amount of data to read from the output buffer.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The output buffer is properly assigned to JPEG codec device. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL, or the pointer to the output_buffer is NULL, or the output_buffer_size is 0. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5400414abba8f376c78f90fbf4e936ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5400414abba8f376c78f90fbf4e936ef">&#9670;&nbsp;</a></span>R_JPEG_Decode_HorizontalStrideSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_HorizontalStrideSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>horizontal_stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure horizontal stride setting. </p>
<dl class="section note"><dt>Note</dt><dd>Use when the horizontal stride needs to match the image width and the image size is unknown when opening the JPEG driver. (If the image size is known prior to the open call, pass the horizontal stride value in the jpef_cfg_t structure.) After the image size becomes available, use this function to update the horizontal stride value. If the driver must decode one line at a time, the horizontal stride can be set to zero.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Horizontal stride value is properly configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ALIGNMENT</td><td>Horizontal stride is zero or not 8-byte aligned. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf22fc4c7ca28d08b1e414d38f464d351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf22fc4c7ca28d08b1e414d38f464d351">&#9670;&nbsp;</a></span>R_JPEG_Decode_InputBufferSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_InputBufferSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_data_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data_buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign input data buffer to JPEG codec for processing. </p>
<dl class="section note"><dt>Note</dt><dd>After the amount of data is processed, the JPEG driver triggers a callback function with the flag JPEG_PRV_OPERATION_INPUT_PAUSE set. The application supplies the next chunk of data to the driver so JPEG decoding can resume.</dd></dl>
<p>The JPEG decoding operation automatically starts after both the input buffer and the output buffer are set, and the output buffer is big enough to hold at least one line of decoded image data.</p>
<p>If zero is provided for the data buffer size the JPEG Codec will never pause for more input data and will continue to read until either an image has been fully decoded or an error condition occurs.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The input data buffer is properly assigned to JPEG Codec device. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL, or the pointer to the input_buffer is NULL, or the input_buffer_size is 0. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_ALIGNMENT</td><td>Buffer starting address is not 8-byte aligned. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae6f9bb2e4cca0189b17d123c7feb3b1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae6f9bb2e4cca0189b17d123c7feb3b1a">&#9670;&nbsp;</a></span>R_JPEG_Decode_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel an outstanding JPEG codec operation and close the device. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The input data buffer is properly assigned to JPEG Codec device. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga50a6813bbe64997712265c3ff24750c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50a6813bbe64997712265c3ff24750c1">&#9670;&nbsp;</a></span>R_JPEG_Decode_ImageSizeGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_ImageSizeGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>p_horizontal_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>p_vertical_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the size of the image. This operation is valid during JPEG decoding operation. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The image size is available and the horizontal and vertical values are stored in the memory pointed to by p_horizontal_size and p_vertical_size. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL and/or size is not ready. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6f89cae883c7f40bf90bc739a467eb7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f89cae883c7f40bf90bc739a467eb7f">&#9670;&nbsp;</a></span>R_JPEG_Decode_StatusGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_StatusGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaabb22b7e67bac097bc3fbdd1586f0631">jpeg_decode_status_t</a> *&#160;</td>
          <td class="paramname"><em>p_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the status of the JPEG codec. This function can also be used to poll the device. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The status information is successfully retrieved. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga463b234382f4cbefd8fcb592ce960fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga463b234382f4cbefd8fcb592ce960fe2">&#9670;&nbsp;</a></span>R_JPEG_Decode_ImageSubsampleSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_ImageSubsampleSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gac10fc46a5178859abd5d686389c5242c">jpeg_decode_subsample_t</a>&#160;</td>
          <td class="paramname"><em>horizontal_subsample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gac10fc46a5178859abd5d686389c5242c">jpeg_decode_subsample_t</a>&#160;</td>
          <td class="paramname"><em>vertical_subsample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure horizontal and vertical subsample. </p>
<dl class="section note"><dt>Note</dt><dd>Use for scaling the decoded image.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Horizontal stride value is properly configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac913ff70ecd2ef2bbb1bbd7f65a8fe99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac913ff70ecd2ef2bbb1bbd7f65a8fe99">&#9670;&nbsp;</a></span>R_JPEG_Decode_PixelFormatGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_PixelFormatGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaa81bd8814f0719b4c731923faff8eebf">jpeg_decode_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___j_p_e_g___a_p_i.html#gaed3e86d8e72b7e3e9240140efeff89f9">jpeg_decode_color_space_t</a> *&#160;</td>
          <td class="paramname"><em>p_color_space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the input pixel format. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The status information is successfully retrieved. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer to the control block is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>JPEG is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad230754711902f4ededd4f3c2fe46730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad230754711902f4ededd4f3c2fe46730">&#9670;&nbsp;</a></span>R_JPEG_Decode_VersionGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_JPEG_Decode_VersionGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#unionfsp__version__t">fsp_version_t</a> *&#160;</td>
          <td class="paramname"><em>p_version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the version of the JPEG Codec driver. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Version number </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>The parameter p_version is NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is reentrant. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP v0.8.0 User's Manual Rev0.80 R11UM0137EU0080 Copyright © (2019) Renesas Electronics Corporation. All Rights Reserved.</li>
    <li class="footer">Generated by FSP v0.8.0
    </li>
  </ul>
</div>
</body>
</html>
